<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>RosettaStoneKit by endoze</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>RosettaStoneKit</h1>
        <p>Magical Object Mapping framework for iOS/OS X</p>

        <p class="view"><a href="https://github.com/endoze/RosettaStoneKit">View the Project on GitHub <small>endoze/RosettaStoneKit</small></a></p>


        <ul>
          <li><a href="https://github.com/endoze/RosettaStoneKit/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/endoze/RosettaStoneKit/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/endoze/RosettaStoneKit">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><img src="https://raw.githubusercontent.com/endoze/RosettaStoneKit/4d82b6268aae692aa6f3f34f8198fb37bc5cb5c5/RosettaStoneKitWithText.png" alt="RosettaStoneKitLogo"></p>

<p>RosettaStoneKit is a magical Object Mapping framework. It converts dictionaries
and arrays of data into instances of any classes. It can also convert your
custom objects into dictionaries and arrays.</p>

<p><a href="https://travis-ci.org/endoze/RosettaStoneKit"><img src="https://travis-ci.org/endoze/RosettaStoneKit.svg" alt="Build Status"></a>
<a href="https://coveralls.io/github/endoze/RosettaStoneKit?branch=master"><img src="https://coveralls.io/repos/github/endoze/RosettaStoneKit/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="http://cocoapods.org/pods/RosettaStoneKit"><img src="https://img.shields.io/cocoapods/l/RosettaStoneKit.svg?style=flat" alt="License"></a>
<a href="http://cocoadocs.org/docsets/RosettaStoneKit"><img src="https://img.shields.io/cocoapods/p/RosettaStoneKit.svg?style=flat" alt="Platform"></a>
<a href="https://img.shields.io/cocoapods/v/RosettaStoneKit.svg"><img src="https://img.shields.io/cocoapods/v/RosettaStoneKit.svg?style=flat" alt="CocoaPods"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a></p>

<h2>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motivation</h2>

<p>There are other frameworks available that provide the same functionality, but
they all made design decisions that limit their usefulness. This framework
does not require that you subclass some special class that adds in all of the
magic for you. It doesn't require a category on NSObject that pollutes every
object with additional methods. And finally, the intent is to do one thing and
do it very well. This framework doesn't include networking code or any other
features.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Small public API surface</li>
<li>Works with any subclass of NSObject</li>
<li>Customizeable via custom <code>PropertyTranslator</code>s</li>
<li>Converts Objects to <code>NSDictionary</code>s</li>
<li>Converts <code>NSDictionary</code> to Objects</li>
<li>Works on <code>NSArray</code>s of <code>NSDictionary</code>s</li>
<li>Well documented</li>
<li>Well tested</li>
<li>Support for Cocoapods/Carthage integration</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="carthage" class="anchor" href="#carthage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Carthage</h3>

<p>Add the following to your Cartfile:</p>

<pre><code>github "Endoze/RosettaStoneKit" ~&gt; 1.2
</code></pre>

<p>Then add the framework as a linked framework.</p>

<h3>
<a id="cocoapods" class="anchor" href="#cocoapods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CocoaPods</h3>

<p>Add the following to your Podfile:</p>

<pre><code>pod 'RosettaStoneKit', '~&gt; 1.2'
</code></pre>

<p>Then run <code>pod install</code></p>

<h2>
<a id="show-me-the-code" class="anchor" href="#show-me-the-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Show me the code</h2>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// User.h</span>

<span class="pl-k">@interface</span> <span class="pl-en">User</span>

<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">copy</span>)   <span class="pl-c1">NSString</span> *firstName;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSNumber</span> *userId;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSDate</span> *birthday;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSString</span> *lastName;

<span class="pl-k">@end</span></pre></div>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// Elsewhere</span>

#<span class="pl-k">import</span> <span class="pl-s"><span class="pl-pds">&lt;</span>RosettaStoneKit/RosettaStoneKit.h<span class="pl-pds">&gt;</span></span>

<span class="pl-c1">NSDictionary</span> *userDictionary = @{
  <span class="pl-s"><span class="pl-pds">@"</span>firstName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>Joe<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">@"</span>userId<span class="pl-pds">"</span></span>: <span class="pl-c1">42</span>,
  <span class="pl-s"><span class="pl-pds">@"</span>birthday<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>1970-01-01T00:00:00.000Z<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">@"</span>lastName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>User<span class="pl-pds">"</span></span>
};

RosettaStone *stone = [RosettaStone <span class="pl-c1">sharedInstance</span>];

User *joeUser = [stone <span class="pl-c1">translate:</span>userDictionary <span class="pl-c1">toClass:</span>[User <span class="pl-c1">class</span>]];</pre></div>

<h3>
<a id="when-things-arent-so-perfect" class="anchor" href="#when-things-arent-so-perfect" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>When things arenâ€™t so perfect</h3>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// Team.h</span>

<span class="pl-k">@interface</span> <span class="pl-en">Team</span>

<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">copy</span>)   <span class="pl-c1">NSString</span> *name;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSNumber</span> *teamNumber;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSArray</span> *games;

<span class="pl-k">@end</span></pre></div>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// Elsewhere</span>

#<span class="pl-k">import</span> <span class="pl-s"><span class="pl-pds">&lt;</span>RosettaStoneKit/RosettaStoneKit.h<span class="pl-pds">&gt;</span></span>

<span class="pl-c1">NSDictionary</span> *teamDictionary = @{
  <span class="pl-s"><span class="pl-pds">@"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>Piggers<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">@"</span>number<span class="pl-pds">"</span></span>: <span class="pl-c1">42</span>,
  <span class="pl-s"><span class="pl-pds">@"</span>games<span class="pl-pds">"</span></span>: @[
    @{<span class="pl-s"><span class="pl-pds">@"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>Table Hocky championships<span class="pl-pds">"</span></span>},
    @{<span class="pl-s"><span class="pl-pds">@"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>Ping Pong championships<span class="pl-pds">"</span></span>}
  ]
};

RosettaStone *stone = [RosettaStone <span class="pl-c1">sharedInstance</span>];

PropertyTranslator *numberTranslator = [propertyTranslatorForClass:[Team <span class="pl-c1">class</span>]
                                                           <span class="pl-c1">fromKey:</span><span class="pl-s"><span class="pl-pds">@"</span>number<span class="pl-pds">"</span></span>
                                                        <span class="pl-c1">toProperty:</span><span class="pl-s"><span class="pl-pds">@"</span>teamNumber<span class="pl-pds">"</span></span>];
PropertyTranslator *gamesTranslator = [propertyTranslatorForClass:[Team <span class="pl-c1">class</span>]
                                                     <span class="pl-c1">fromArrayKey:</span><span class="pl-s"><span class="pl-pds">@"</span>games<span class="pl-pds">"</span></span>
                                                  <span class="pl-c1">toArrayProperty:</span><span class="pl-s"><span class="pl-pds">@"</span>games<span class="pl-pds">"</span></span>
                                                        <span class="pl-c1">withClass:</span>[Game <span class="pl-c1">class</span>]];

[stone <span class="pl-c1">registerPropertyTranslator:</span>numberTranslator];
[stone <span class="pl-c1">registerPropertyTranslator:</span>gamesTranslator];

Team *piggers = [stone <span class="pl-c1">translate:</span>teamDictionary <span class="pl-c1">toClass:</span>[Team <span class="pl-c1">class</span>]];</pre></div>

<h3>
<a id="when-you-really-need-to-change-stuff" class="anchor" href="#when-you-really-need-to-change-stuff" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>When you really need to change stuff</h3>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// Game.h</span>

<span class="pl-k">typedef</span> <span class="pl-k">enum</span> : <span class="pl-k">NSUInteger</span> {
  PingPongGameType,
  FoosballGameType,
  TableHockeyGameType,
  NoGameType,
} GameType;

<span class="pl-k">@interface</span> <span class="pl-en">Game</span>

<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">copy</span>) <span class="pl-c1">NSString</span> *name;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>) GameType type;

<span class="pl-k">@end</span></pre></div>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// Elsewhere</span>

#<span class="pl-k">import</span> <span class="pl-s"><span class="pl-pds">&lt;</span>RosettaStoneKit/RosettaStoneKit.h<span class="pl-pds">&gt;</span></span>

<span class="pl-c1">NSDictionary</span> *gameDictionary = @{
  <span class="pl-s"><span class="pl-pds">@"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">@"</span>FoosBall Championships<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">@"</span>type<span class="pl-pds">"</span></span>: <span class="pl-c1">2</span>
};

RosettaStone *stone = [RosettaStone <span class="pl-c1">sharedInstance</span>];
PropertyTranslator *gameTypeTranslator = [propertyTranslatorForClass:[Game <span class="pl-c1">class</span>]
                                                             <span class="pl-c1">fromKey:</span><span class="pl-s"><span class="pl-pds">@"</span>type<span class="pl-pds">"</span></span>
                                                           <span class="pl-c1">toProperty:</span><span class="pl-s"><span class="pl-pds">@"</span>type<span class="pl-pds">"</span></span>
                                               <span class="pl-c1">withInterpolatorBlock:</span>^<span class="pl-c1">id</span>(<span class="pl-k">id</span> propertyValue) {
  <span class="pl-k">NSUInteger</span> number = [(<span class="pl-c1">NSNumber</span> *)propertyValue <span class="pl-c1">unsignedIntegerValue</span>];

  <span class="pl-k">switch</span> (number) {
    <span class="pl-k">case</span> <span class="pl-c1">1</span>:
      <span class="pl-k">return</span> PingPongGameType;
    <span class="pl-k">case</span> <span class="pl-c1">2</span>:
      <span class="pl-k">return</span> FoosballGameType;
    <span class="pl-k">case</span> <span class="pl-c1">3</span>:
      <span class="pl-k">return</span> TableHockeyGameType;
    <span class="pl-k">default</span>:
      <span class="pl-k">return</span> NoGameType;
  }
}];
[stone <span class="pl-c1">registerPropertyTranslator:</span>gameTypeTranslator];

Game *foosballChampionshipGame = [stone <span class="pl-c1">translate:</span>gameDictionary <span class="pl-c1">toClass:</span>[Game <span class="pl-c1">class</span>]];</pre></div>

<h3>
<a id="converting-your-objects-into-dictionaries" class="anchor" href="#converting-your-objects-into-dictionaries" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Converting your objects into dictionaries</h3>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// User.h</span>

<span class="pl-k">@interface</span> <span class="pl-en">User</span>

<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">copy</span>)   <span class="pl-c1">NSString</span> *firstName;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSNumber</span> *userId;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSDate</span> *birthday;
<span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">strong</span>) <span class="pl-c1">NSString</span> *lastName;

<span class="pl-k">@end</span></pre></div>

<div class="highlight highlight-source-objc"><pre><span class="pl-c">// Elsewhere</span>

#<span class="pl-k">import</span> <span class="pl-s"><span class="pl-pds">&lt;</span>RosettaStoneKit/RosettaStoneKit.h<span class="pl-pds">&gt;</span></span>

User *joeUser = [User <span class="pl-c1">new</span>];
joeUser.firstName = <span class="pl-s"><span class="pl-pds">@"</span>Joe<span class="pl-pds">"</span></span>;
joeUser.userId = @<span class="pl-c1">2</span>;
joeUser.lastName = <span class="pl-s"><span class="pl-pds">@"</span>User<span class="pl-pds">"</span></span>;

RosettaStone *stone = [RosettaStone <span class="pl-c1">sharedInstance</span>];

<span class="pl-c1">NSDictionary</span> *joeUserDictionary = [stone <span class="pl-c1">translateToDictionary:</span>joeUser];</pre></div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/endoze">endoze</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
